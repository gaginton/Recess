(this.webpackJsonprecess=this.webpackJsonprecess||[]).push([[0],{332:function(e,t,a){e.exports=a(672)},337:function(e,t,a){},338:function(e,t,a){},579:function(e,t,a){},672:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),l=a.n(i),s=(a(337),a(9)),o=a(10),c=a(12),m=a(11),u=a(13),d=a(14),p=a(59),h=(a(338),a(19)),g=Object(h.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))(Object(p.g)((function(e){return r.a.createElement("ul",{className:"right furtherRight navbar"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"viewsDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"View"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"viewsDropdown"},r.a.createElement(d.c,{to:"/",exact:!0,activeClassName:"navItem-active"},"List"),r.a.createElement(d.c,{to:"/map",exact:!0,activeClassName:"navItem-active"},"Map"))),r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"createDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"New"),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"createDropdown"},r.a.createElement(d.c,{to:"/create",exact:!0,activeClassName:"navItem-active"},"Game"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:e.signOut,className:"nav-link"},"Log Out")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/profile",className:"btn btn-floating pink lighten-1",exact:!0,activeClassName:"navItem-active"},e.profile.initials)))}))),f=function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(d.c,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(d.c,{to:"/signin"},"Login")))},b=Object(h.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile,n=t.uid?r.a.createElement(g,{profile:a}):r.a.createElement(f,null);return r.a.createElement("nav",{className:"nav-wrapper black darken-3 mr-auto",fixed:"top"},r.a.createElement("div",{className:"container"},r.a.createElement(d.b,{to:"/",className:"brand-logo"},"Recess"),n))})),E=a(37),v=a(53),y=a.n(v),N=function(e){var t=e.game;return r.a.createElement("div",{className:"card z-depth-0 game-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("div",{className:"card-title bold"},t.title.substring(0,32)),r.a.createElement("div",null,"@",t.location.substring(0,32)),r.a.createElement("div",null,"Start: ",y()(t.dateTime.toDate()).calendar()),r.a.createElement("div",{className:"grey-text small-text"},"Host: ",t.authorFirstName," ",t.authorLastName," ")))},O=a(322),C=a.n(O),j=function(){return r.a.createElement("div",{className:"card z-depth-0 list-container opacity"},r.a.createElement("div",{className:"filler"}),r.a.createElement(C.a,{height:100,width:100,className:"mar-auto"},r.a.createElement("img",{src:"http://clipart-library.com/images/6iy5nBAMT.png",alt:""})))};function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){var t=e.games,a=new Date;return r.a.createElement("div",{className:"game-list section"},r.a.createElement("div",{className:"white-text"},"Available Games"),t&&t.filter((function(e){return a<=e.dateTime.toDate()})).map((function(e){return r.a.createElement(d.b,{to:"/game/"+e.id,key:e.id},r.a.createElement("div",{className:"row mar-0"},r.a.createElement("div",{className:"col-3 opacity mar-0 padRight-0"},r.a.createElement(j,null)),r.a.createElement("div",{className:"col-9 opacity mar-0 padLeft-0"},r.a.createElement(N,{game:S({},e,{id:e.id})}))))})),r.a.createElement("div",{className:"white-text"},"Previous Games"),t&&t.filter((function(e){return a>=e.dateTime.toDate()})).map((function(e){return r.a.createElement(d.b,{to:"/game/"+e.id,key:e.id},r.a.createElement("div",{className:"row mar-0"},r.a.createElement("div",{className:"col-3 m3 mar-0 padRight-0"},r.a.createElement(j,null)),r.a.createElement("div",{className:"col-9 m9 opacity mar-0 padLeft-0"},r.a.createElement(N,{game:S({},e,{id:e.id})}))))})))},k=a(34),P=a(22),R=a(42),G=(a(288),a(678)),A=a(682),D=a(679),T=a(680),L=a(681),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={modal:e.initialModalState},a.toggle=a.toggle.bind(Object(R.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",{className:"modalContainer inlineBlock bottomLeft"},r.a.createElement(G.a,{color:"danger",onClick:this.toggle},"I"),r.a.createElement(A.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"xl"},r.a.createElement(D.a,{toggle:this.toggle},"About Recess"),r.a.createElement(T.a,null,r.a.createElement("h4",null,"Recess is..."),r.a.createElement("p",null,"an app to find, create and organize games. Recess' goal is to help good people find nearby games and leagues, and ultimately find the most suitable matches. Written by: Guy Ginton, Ori Gold, Eldad Bercovici and Oren Spiegel.",r.a.createElement("br",null)),r.a.createElement("h4",null,"Games vs Leagues"),r.a.createElement("p",null,"Recess will offer two options for creating events: Create Game or Create League."),r.a.createElement("p",null,r.a.createElement("b",null,"Games")," are one-off games. Players may join teams until the game's start time. These games may be co-operative or competitive, private or public. Users may duplicate and modify games."),r.a.createElement("p",null,r.a.createElement("b",null,"Leagues")," are more rigid, organized sets of games. Leagues have rounds, over the course of one or more days. Organizers set a \"First to\" paramter -- a value of 1 is equivalent to elimination rules, and a value of 2 means 'the first team to log 2 wins advances to next round.' Leagues are identified by their registration deadline, which may differ from the first game day. Game rules can not be modified after the registeration deadline. Recess will build tools to help with league organization, and assigning matches."),r.a.createElement("p",null,"Games are split into 6 categories: 1. Classic Recess, 2. Talent, 3. Sports, 4. Video Games, 5. Party, 6. Tabletop and more."),r.a.createElement("h4",null,"Scoring, Wins and Losses"),r.a.createElement("p",null,"Recess does not currently keep tracks of game scores, including wins or losses. Score tracking will be an optional feature. Games and leagues will have unique scoring mechanisms, transparent to users. The intention is for scoring to help create appropriate matches.",r.a.createElement("p",null,r.a.createElement("b",null,'"Game Administrators"')," are given the option to end a game within 24 hours of its start time. After a game is ended, either by the admin or 24 hours elapsing, the Game Admin can enter the final score. Each player then has 24 hours to approve or disapprove the score. All players must approve a score for it to be recorded."),r.a.createElement("p",null,r.a.createElement("b",null,'"League Administrators"')," will be allowed to end matches and rounds, and then provide a score. By registering for a league, you are granting the League Administrators rights to mark final scores. League Administrators can log and change scores at any time.")),r.a.createElement("h4",null,"King of the Chill"),r.a.createElement("p",null,"King of the Chill is a project to help create sustainable, local communities. Recess is one initiative of this project.")),r.a.createElement(L.a,null,r.a.createElement(G.a,{color:"primary",onClick:this.toggle},"Cool"))))}}]),t}(r.a.Component),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.games;return e.auth.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row pad-0"},r.a.createElement("div",{className:"col opacity"},r.a.createElement(x,{games:t}))),r.a.createElement(F,{initialModalState:!1})):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),M=Object(P.d)(Object(h.b)((function(e){return{games:e.firestore.ordered.games,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications,messages:e.firestore.ordered.chatroom}})),Object(k.firestoreConnect)([{collection:"games",orderBy:["dateTime","asc"]},{collection:"notifications",limit:20,orderBy:["time","desc"]}]))(I);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=Object(P.d)(Object(h.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.games;return{game:n?n[a]:null,auth:e.firebase.auth}}),(function(e){return{joinGame:function(t){return e(function(e){return function(t,a,n){n.getFirebase;for(var r=(0,n.getFirestore)(),i=a().firebase.profile,l="".concat(i.firstName," ").concat(i.lastName),s=e.players,o=0;o<s.length;o++){if(s[o]===l)return;if(""===s[o]){s[o]=l,e.players=s;break}}var c=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];r.collection("games").doc(c).update(U({},e)).then((function(){t({type:"JOINED_GAME",game:e})})).catch((function(e){t({type:"JOIN_GAME_ERROR",err:e})}))}}(t))},leaveGame:function(t){return e(function(e){return function(t,a,n){n.getFirebase;for(var r=(0,n.getFirestore)(),i=a().firebase.profile,l="".concat(i.firstName," ").concat(i.lastName),s=e.players,o=0;o<s.length;o++)if(s[o]===l){s.splice(o,1),s.push(""),e.players=s;break}var c=window.location.pathname.split("/")[window.location.pathname.split("/").length-1];r.collection("games").doc(c).update(U({},e)).then((function(){t({type:"LEFT_GAME",game:e})})).catch((function(e){t({type:"LEFT_GAME_ERROR",err:e})}))}}(t))}}})),Object(k.firestoreConnect)([{collection:"games"}]))((function(e){var t=e.game;if(!e.auth.uid)return r.a.createElement(p.a,{to:"/signin"});if(t){var a=t.players?r.a.createElement("p",null,"Current players:"," ",t.players.filter((function(e){return e.replace(/(\r\n|\n|\r)/gm,"")})).join(", ")," "):null,n=t.maxLength?r.a.createElement("p",null,"Max game length: ",t.maxLength," minutes"):null,i=t.equipment?r.a.createElement("p",null,"Players must bring: ",t.equipment):null,l=t.minPlayers?t.minPlayers:1,s=t.maxPlayers?t.maxPlayers:20;return r.a.createElement("div",{className:"container section"},r.a.createElement("div",{className:"game-details card z-depth-0 opacity"},r.a.createElement("div",{className:"card-cont ent"},r.a.createElement("div",{className:"card-title bold"},t.title),r.a.createElement("div",{className:"card-title"},t.location," || ",y()(t.dateTime.toDate()).calendar()),r.a.createElement("p",null,t.content),r.a.createElement("p",null,"Total # of Players: ",l," - ",s," "),a," ",n," ",i),r.a.createElement("div",{className:"gameActionButtonContainer"},r.a.createElement("span",{className:"input-field"},r.a.createElement("button",{className:"btn blue z-depth-0",onClick:function(){return e.joinGame(t)}},"JOIN")),r.a.createElement("span",{className:"input-field leaveGameButton"},r.a.createElement("button",{className:"btn blue z-depth-0",onClick:function(){return e.leaveGame(t)}},"LEAVE"))),r.a.createElement("div",{className:"spotim container"},r.a.createElement("div",{className:"bold"},"Discuss this Game")),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"Posted by: ",t.authorFirstName," ",t.authorLastName),r.a.createElement("div",null,y()(t.createdAt.toDate()).calendar()))))}return r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading Game..."))})),z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.signIn(a.state)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"container opacity"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Login"),r.a.createElement("div",{className:"red-text center"},t?r.a.createElement("p",null,t):null))))}}]),t}(n.Component),q=Object(h.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(z),W=a(137),J=a.n(W),H=(a(292),a(506),a(323)),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",confirmPass:"",firstName:"",lastName:"",bday:"",phoneNo:""},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value))},a.handleDateChange=function(e){a.setState({bday:e})},a.handleSubmit=function(e){e.preventDefault(),""!==a.state.email&&""!==a.state.password&&""!==a.state.firstName&&""!==a.state.lastName&&""!==a.state.bday&&a.state.password===a.state.confirmPass&&a.props.signUp(a.state)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.authError;return t.auth.uid?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign Up"),r.a.createElement("div",{className:"small-text"},"During the current testing period, there is no authentication of values.",r.a.createElement("br",null),"You must remember email and password to log back in.",r.a.createElement("br",null),"If you would like to receive notifications, use your real email and phone number."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",id:"firstName",onChange:this.handleChange}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",id:"lastName",onChange:this.handleChange})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement(H.a,{placeholder:"Enter phone number",value:this.state.phone,onChange:function(t){return e.setState({phone:t})}})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"confirmPass"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"confirmPass",onChange:this.handleChange})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"input-field"},r.a.createElement(J.a,{selected:this.state.bday,onChange:this.handleDateChange,maxDate:new Date,placeholderText:"Birthday",showMonthDropdown:!0,showYearDropdown:!0})))),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0"},"Sign Up"),r.a.createElement("div",{className:"red-text center"},a?r.a.createElement("p",null,a):null))))}}]),t}(n.Component),V=Object(h.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,l=r(),s=i();l.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return s.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,bday:e.bday,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(K),X=a(99),Y=a.n(X),Q=a(221),Z=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return 2!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement("h4",{className:"bold"},"Optional Fields"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"address"},"Address (Game location or league registeration location)"),r.a.createElement("input",{type:"text",id:"address",onChange:this.props.handleChange,value:this.props.address})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"grey-text text-darken-3"},"Team and Roster Layout"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"minPlayers"},"Minimum Players"),r.a.createElement("input",{type:"number",id:"minPlayers",onChange:this.props.handleChange,value:this.props.minPlayers,min:"2"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"maxPlayers"},"Maximum Players"),r.a.createElement("input",{type:"number",id:"maxPlayers",onChange:this.props.handleChange,value:this.props.maxPlayers,min:"2",max:"50"})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"noTeams"},"Number of Teams"),r.a.createElement("input",{type:"number",id:"noTeams",onChange:this.props.handleChange,value:this.props.noTeams,max:this.props.maxPlayers}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("div",{className:"grey-text text-darken-3"},"Additional Fields ",r.a.createElement("br",null)),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"maxLength"},"Maximum Length of Game (Minutes)"),r.a.createElement("input",{type:"number",id:"maxLength",onChange:this.props.handleChange,value:this.props.maxLength})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"minAge"},"Minimum Age of Players"),r.a.createElement("input",{type:"number",id:"minAge",onChange:this.props.handleChange,value:this.props.minAge})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"equipment"},"Please bring to game (Equipment, fees, etc.)"),r.a.createElement("input",{type:"text",id:"equipment",onChange:this.props.handleChange,value:this.props.equipment})))))}}]),t}(n.Component),$=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return 3!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement("h4",{className:"bold"},"Read Terms and Create Game"),r.a.createElement("div",{className:"grey-text text-darken-3"},'* Please note, by clicking "Create Game" you are creating a PUBLIC game, visible to all Recess users. These games can not be modified in the current Recess version. Private games and editing, up until the day of a game, are features expected soon.'),r.a.createElement("div",{className:"grey-text text-darken-3"},"* Your information is confidential. However, Recess is not responsible for what you write online. We recommend you do not give personal information to strangers."),r.a.createElement("div",{className:"grey-text text-darken-3"},"* Please do not use this app if you are under 18 years of age."),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn pink lighten-1 z-depth-0",onSubmit:this.props.handleSubmit},"Create Game")))}}]),t}(n.Component),ee=a(327),te=[{value:1,attributeName:"Recess",label:"Classic Recess Games",iconClass:"rss-cone",group:"Recess"},{value:2,attributeName:"Talent",label:"Talent Games",iconClass:"rss-cap",group:"Talent"},{value:3,attributeName:"Sport",label:"Sports Games",iconClass:"rss-soccer",group:"Sport"},{value:4,attributeName:"Digital",label:"Video Games",iconClass:"rss-remote",group:"Digital"},{value:5,attributeName:"Party",label:"Party Games",iconClass:"rss-cup",group:"Party"},{value:6,attributeName:"Tabletop",label:"Tabletop Games",iconClass:"rss-board",group:"Tabletop"}],ae=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return 1!==this.props.currentStep?null:r.a.createElement("div",null,r.a.createElement("h4",{className:"bold"},"Mandatory Fields"),r.a.createElement("div",{className:"input-field"},r.a.createElement(ee.a,{onChange:this.props.handleSelectCategory,options:te,value:this.props.category})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"title"},"* Game Title (Ex: Football, Tag, DnD, Beer Pong)"),r.a.createElement("input",{type:"text",id:"title",onChange:this.props.handleChange,value:this.props.title})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"content"},"* Game Description (Ex: Full court, Shirts vs Skins, Beginners Welcome, 10 cup)"),r.a.createElement("textarea",{className:"materialize-textarea",id:"content",onChange:this.props.handleChange,value:this.props.content})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"location"},"* Location (Ex: Central Park, XBox Live, Mobile)"),r.a.createElement("input",{type:"text",id:"location",onChange:this.props.handleChange,value:this.props.location})),r.a.createElement("div",{className:"input-field"},r.a.createElement(J.a,{selected:this.props.dateTime?new Date(this.props.dateTime):null,onChange:this.props.handleDateChange,minDate:new Date,placeholderText:"* Start Date and Time",showTimeInput:!0,timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa"})))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={currentStep:1,title:"",content:"",location:"",dateTime:"",category:"",address:"",markers:"",minPlayers:"",maxPlayers:"",noTeams:"",maxLength:"",minAge:"",equipment:"",players:[],isCoop:""},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.id,e.target.value))},a.handleDateChange=function(e){a.setState({dateTime:e})},a.handleSelectCategory=function(e){a.setState({category:e})},a._next=a._next.bind(Object(R.a)(a)),a._prev=a._prev.bind(Object(R.a)(a)),a.updateLocation=a.updateLocation.bind(Object(R.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(R.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"_next",value:function(){var e=this.state.currentStep;e=e>=2?3:e+1,this.setState({currentStep:e})}},{key:"_prev",value:function(){var e=this.state.currentStep;e=e<=1?1:e-1,this.setState({currentStep:e})}},{key:"handleSubmit",value:function(){var e=Object(Q.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===this.state.title||""===this.state.content||""===this.state.location||""===this.state.dateTime||""===this.state.category){e.next=9;break}if(""===this.state.address){e.next=5;break}return e.next=5,this.updateLocation(this.state.address);case 5:this.props.createGame(this.state),this.props.history.push("/"),e.next=10;break;case 9:return e.abrupt("return",this.gameError="Mandatory fields are missing!");case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLocation",value:function(){var e=Object(Q.a)(Y.a.mark((function e(t){var a=this;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"+123&key=").concat("AIzaSyAM6_5p4WOHokKXAJ_U2bVmbBDpUqdm7-U")).then((function(e){return e.json()})).then((function(e){a.setState({markers:e.results.map((function(e){return{lat:e.geometry.location.lat,lng:e.geometry.location.lng}}))})})).catch(console.log);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"white",onSubmit:this.handleSubmit},r.a.createElement("h4",{className:"bold"},"Create Game"),r.a.createElement(ae,{currentStep:this.state.currentStep,handleChange:this.handleChange,handleSelectCategory:this.handleSelectCategory,handleDateChange:this.handleDateChange,title:this.state.title,content:this.state.content,location:this.state.location,dateTime:this.state.dateTime,category:this.state.category}),r.a.createElement(Z,{currentStep:this.state.currentStep,handleChange:this.handleChange,address:this.state.address,minPlayers:this.state.minPlayers,maxPlayers:this.state.maxPlayers,noTeams:this.state.noTeams,maxLength:this.state.maxLength,minAge:this.state.minAge,equipment:this.state.equipment}),r.a.createElement($,{currentStep:this.state.currentStep,handleSubmit:this.handleSubmit}),r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,null)),this.previousButton,this.nextButton)):r.a.createElement(p.a,{to:"/signin"})}},{key:"previousButton",get:function(){return 1!==this.state.currentStep?r.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:this._prev},"Previous"):null}},{key:"nextButton",get:function(){return this.state.currentStep<3?r.a.createElement("button",{className:"btn btn-primary float-right",type:"button",onClick:this._next},"Next"):null}}]),t}(n.Component),re=Object(h.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createGame:function(t){return e(function(e){return function(t,a,n){n.getFirebase;for(var r=(0,n.getFirestore)(),i=a().firebase.profile,l=a().firebase.auth,s=["".concat(i.firstName," ").concat(i.lastName)];s.length<e.maxPlayers;)s.push("");r.collection("games").add(U({},e,{category:e.category.value,authorFirstName:i.firstName,authorLastName:i.lastName,authorId:l,createdAt:new Date,players:s})).then((function(){t({type:"CREATE_GAME",game:e})})).catch((function(e){t({type:"CREATE_GAME_ERROR",err:e})}))}}(t))}}}))(ne),ie=a(325),le=a.n(ie),se=(a(579),function(e){var t=e.lat,a=e.lng,n=e.title,i=(e.content,e.gameId),l=e.gameCategory,s=e.dateTime;return r.a.createElement(d.b,{to:"/game/"+i,key:i},r.a.createElement("div",{className:"mapMarker category-".concat(l),lat:t,lng:a}),r.a.createElement("p",{className:"mapMarker-hoverBox"},n," ",r.a.createElement("br",null),y()(s.toDate()).calendar()))}),oe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.setState({mapCenterLocation:{lat:t.coords.latitude,lng:t.coords.longitude}})}))}},{key:"render",value:function(){var e={center:this.state.mapCenterLocation,zoom:14},t=this.props.games;return r.a.createElement(r.a.Fragment,null,e.center&&r.a.createElement("div",{className:"mapContainer"},r.a.createElement(le.a,{bootstrapURLKeys:{key:"AIzaSyAM6_5p4WOHokKXAJ_U2bVmbBDpUqdm7-U"},defaultCenter:e.center,defaultZoom:e.zoom,options:{gestureHandling:"greedy"}},t&&t.map((function(e){return e.markers.map((function(t){return r.a.createElement(se,{lat:t.lat,lng:t.lng,title:e.title,gameId:e.id,gameCategory:e.category,dateTime:e.dateTime})}))})))),r.a.createElement(F,{initialModalState:!1}))}}]),t}(n.Component),ce=Object(P.d)(Object(h.b)((function(e){return{games:e.firestore.ordered.games}})),Object(k.firestoreConnect)([{collection:"games",orderBy:["dateTime","asc"]}]))(oe),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={modal:e.initialModalState},a.toggle=a.toggle.bind(Object(R.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"render",value:function(){return r.a.createElement("div",{className:"modalContainer inlineBlock"},r.a.createElement(G.a,{color:"danger",onClick:this.toggle},"Notifications"),r.a.createElement(A.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,size:"xl"},r.a.createElement(D.a,{toggle:this.toggle},"Notifications"),r.a.createElement(T.a,null,r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("ul",{className:"notifications"},this.props.notifications&&this.props.notifications.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"pink-text"},e.user," "),r.a.createElement("span",{className:"grey-text text-darken-3"},e.content),r.a.createElement("div",{className:"grey-text small-text note-date"},y()(e.time.toDate()).fromNow()))}))))))),r.a.createElement(L.a,null,r.a.createElement(G.a,{color:"primary",onClick:this.toggle},"Cool"))))}}]),t}(r.a.Component),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.notifications;return t.uid?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mapContainer padLeft-20"},r.a.createElement("h1",{className:"text-white"},"Coming Soon..."),r.a.createElement("p",{className:"text-white"},"In Q1 Recess will add: Customize your layout and settings, game tags (FPS, free for all, Xbox etc.) Game Scoring, Notifications, Private Game, User Profiles and much more!",r.a.createElement("br",null),"Write to me at guyginton@gmail.com for feedback, suggestions and anything else."),r.a.createElement(me,{notifications:a,initialModalState:!1}),r.a.createElement(F,{initialModalState:!1}))):r.a.createElement(p.a,{to:"/signin"})}}]),t}(n.Component),de=Object(P.d)(Object(h.b)((function(e){return{auth:e.firebase.auth,notifications:e.firestore.ordered.notifications,games:e.firestore.ordered.games,messages:e.firestore.ordered.chatroom}})),Object(k.firestoreConnect)([{collection:"notifications",limit:20,orderBy:["time","desc"]}]))(ue),pe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:M}),r.a.createElement(p.b,{path:"/signin",component:q}),r.a.createElement(p.b,{path:"/signup",component:V}),r.a.createElement(p.b,{path:"/game/:id",component:B}),r.a.createElement(p.b,{exact:!0,path:"/map",component:ce}),r.a.createElement(p.b,{path:"/create",component:re}),r.a.createElement(p.b,{path:"/profile",component:de}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe={authError:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("login error"),ge({},e,{authError:"Login Failed"});case"LOGIN_SUCCESS":return console.log("login success"),ge({},e,{authError:null});case"SIGNOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),ge({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),ge({},e,{authError:t.err.message});default:return e}},Ee={games:[{id:"1",title:"Basketball",content:"shirts vs skins"},{id:"2",title:"Football",content:"6 vs 6"},{id:"3",title:"Tag",content:"League rules"},{id:"4",title:"Beer Pong",content:"21 Must have ID"},{id:"5",title:"Hide n Seek",content:"One vs All"}]},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_GAME":case"CREATE_GAME_ERROR":case"JOINED_GAME":case"JOIN_GAME_ERROR":default:return e}},ye={chatroom:[{id:"1",message:"Hello World!"}]},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":case"CREATE_MESSAGE_ERROR":default:return e}},Oe=a(98),Ce=Object(P.c)({auth:be,game:ve,message:Ne,firestore:Oe.firestoreReducer,firebase:k.firebaseReducer}),je=a(326),we=a(149),Se=a.n(we);a(666),a(670);Se.a.initializeApp({apiKey:"AIzaSyDwYcwvbMrmw1QLwjdjku0PMzUxECiCHQ0",authDomain:"recess-8a9b6.firebaseapp.com",databaseURL:"https://recess-8a9b6.firebaseio.com",projectId:"recess-8a9b6",storageBucket:"recess-8a9b6.appspot.com",messagingSenderId:"636940712309"}),Se.a.firestore().settings({timestampsInSnapshots:!0});var xe=Se.a,ke=Object(P.e)(Ce,Object(P.d)(Object(P.a)(je.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:Oe.getFirestore})),Object(Oe.reduxFirestore)(xe),Object(k.reactReduxFirebase)(xe,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));ke.firebaseAuthIsReady.then((function(){l.a.render(r.a.createElement(h.a,{store:ke},r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))}},[[332,1,2]]]);
//# sourceMappingURL=main.f0c82f75.chunk.js.map